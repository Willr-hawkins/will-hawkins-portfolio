{% extends 'base.html' %} {% load static %} {% block content %}
<!-- About section -->
<section class="container" id="about">
  <h1 class="about-title">HELLO THERE,</h1>
  <div class="about-content">
    <p class="about-text">
      I'm a <span>Junior Web Developer</span> who loves turning ideas into
      functional, beautiful web applications. Based in Devon, I combine
      technical expertise in <span>Python and JavaScript</span> with a
      problem-solving mindset to build solutions that make a real difference.
    </p>
    <p class="about-text">
      Whether it's streamlining a dog-walking business with automated bookings,
      creating secure e-commerce experiences, or supporting wildlife
      conservation through pro bono work, I'm driven by projects that have
      purpose. I work across the
      <span
        >full stackâ€”from responsive front-end interfaces to robust back-end
        systems</span
      >
      and I'm always learning. Right now, I'm diving deep into React to add even
      more tools to my development toolkit.
    </p>
  </div>
</section>
<!-- Projects section -->
<section class="projects-section" id="projects">
  <div id="projects-overview">
    <h2 class="projects-title">My Projects</h2>
    <p class="projects-subtitle">Click on any project to learn more.</p>
    <div class="projects-grid" id="projects-grid"></div>
  </div>

  <div class="project-detail" id="project-detail"></div>
</section>

<!-- Skills section -->
<section class="skills-section" id="skills">
  <div>
    <h2 class="skills-title">My Skills</h2>
    <p class="skills-subtitle">Technologies and tools I work with.</p>

    <div class="skills-container">
      <div class="skill-item">
        <div class="skill-header">
          <span class="skill-name">HTML & CSS</span>
          <span class="skill-percentage">90%</span>
        </div>
        <div class="skill-bar-container">
          <div class="skill-bar" data-percentage="90"></div>
        </div>
      </div>

      <div class="skill-item">
        <div class="skill-header">
          <span class="skill-name">JavaScript</span>
          <span class="skill-percentage">60%</span>
        </div>
        <div class="skill-bar-container">
          <div class="skill-bar" data-percentage="60"></div>
        </div>
      </div>

      <div class="skill-item">
        <div class="skill-header">
          <span class="skill-name">Python</span>
          <span class="skill-percentage">80%</span>
        </div>
        <div class="skill-bar-container">
          <div class="skill-bar" data-percentage="80"></div>
        </div>
      </div>

      <div class="skill-item">
        <div class="skill-header">
          <span class="skill-name">Django</span>
          <span class="skill-percentage">85%</span>
        </div>
        <div class="skill-bar-container">
          <div class="skill-bar" data-percentage="85"></div>
        </div>
      </div>

      <div class="skill-item">
        <div class="skill-header">
          <span class="skill-name">SQL & Databases</span>
          <span class="skill-percentage">65%</span>
        </div>
        <div class="skill-bar-container">
          <div class="skill-bar" data-percentage="65"></div>
        </div>
      </div>

      <div class="skill-item">
        <div class="skill-header">
          <span class="skill-name">Git & Version Control</span>
          <span class="skill-percentage">50%</span>
        </div>
        <div class="skill-bar-container">
          <div class="skill-bar" data-percentage="50"></div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Contact section -->
<section class="container" id="contact">
  <h2 class="contact-title" style="text-align: center">Get In Touch</h2>
  <p class="contact-subtitle" style="text-align: center">
    Have a project in mind or want to work together?
  </p>

  <div
    id="contact-messages"
    style="
      margin-bottom: 2rem;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    "
  ></div>

  <div class="detail-card" style="max-width: 800px; margin: 2rem auto">
    <form method="post" id="contact-form">
      {% csrf_token %}

      <div class="form-group" style="margin-bottom: 1.5rem">
        <label
          for="{{ form.full_name.id_for_label }}"
          style="
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-primary);
          "
        >
          {{ form.full_name.label }}
        </label>
        {{ form.full_name }}
        <div
          id="full_name-error"
          class="error"
          style="
            color: #dc3545;
            margin-top: 0.25rem;
            font-size: 0.875rem;
            display: none;
          "
        ></div>
      </div>

      <div class="form-group" style="margin-bottom: 1.5rem">
        <label
          for="{{ form.email.id_for_label }}"
          style="
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-primary);
          "
        >
          {{ form.email.label }}
        </label>
        {{ form.email }}
        <div
          id="email-error"
          class="error"
          style="
            color: #dc3545;
            margin-top: 0.25rem;
            font-size: 0.875rem;
            display: none;
          "
        ></div>
      </div>

      <div class="form-group" style="margin-bottom: 1.5rem">
        <label
          for="{{ form.phone_number.id_for_label }}"
          style="
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-primary);
          "
        >
          {{ form.phone_number.label }}
        </label>
        {{ form.phone_number }}
        <div
          id="phone_number-error"
          class="error"
          style="
            color: #dc3545;
            margin-top: 0.25rem;
            font-size: 0.875rem;
            display: none;
          "
        ></div>
      </div>

      <div class="form-group" style="margin-bottom: 1.5rem">
        <label
          for="{{ form.message.id_for_label }}"
          style="
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-primary);
          "
        >
          {{ form.message.label }}
        </label>
        {{ form.message }}
        <div
          id="message-error"
          class="error"
          style="
            color: #dc3545;
            margin-top: 0.25rem;
            font-size: 0.875rem;
            display: none;
          "
        ></div>
      </div>

      <button
        type="submit"
        class="contact-btn"
        style="width: 100%; text-align: center; margin-top: 1rem"
      >
        Send Message
      </button>
    </form>
  </div>
</section>

<script>
  const projects = [
    {
      id: 1,
      title: "Canine Compadre",
      shortDesc: "A booking wesbite for local dog walker.",
      image: "{% static 'images/canine-compadre.png' %}",
      fullDescription:
        "A full-featured booking and management system built for Axel Bevis's professional dog walking service. The platform enables clients to seamlessly book group walks or request individual walking sessions while intelligently managing time slot availability and capacity constraints. The application handles complex scheduling logic to prevent double-bookings while maintaining clear communication about available time windows. Built with a focus on reliability and user experience for a small business context.",
      technologies: ["Python", "Django", "Javascript", "Bootstrap"],
      highlights: [
        "Dual Booking System: Separate workflows for group walks (limited to 4 dogs per session) and individual walk requests",
        "Smart Scheduling: Automated time slot management with three daily group walk sessions (10AM-12PM, 2PM-4PM, 6PM-8PM) and buffer time protection",
        "Availability Management: Real-time display of available time slots with clear restrictions to prevent scheduling conflicts",
        "User-Friendly Interface: Clean, intuitive design that guides pet owners through the booking process",
      ],
      githubLink: "https://github.com/Willr-hawkins/canine-compadre",
      liveLink: "https://caninecompadre.co.uk/",
    },
    {
      id: 2,
      title: "Coiling Clay",
      shortDesc: "A full stack E-commerce online ceramics store.",
      image: "{% static 'images/coiling-clay.jpg' %}",
      fullDescription:
        "A feature-rich e-commerce platform built for an independent ceramics store specializing in handmade, artisanal pottery. The application delivers a complete online shopping experience with advanced user engagement features and robust backend functionality.",
      technologies: ["Django", "PostgresSQL", "Stripe API", "AWS S3"],
      highlights: [
        "Complete E-Commerce Functionality: Full shopping cart system with secure Stripe payment integration and order processing",
        "User Authentication & Profiles: Account management with saved shipping information and order history tracking",
        "Advanced Product System: Dynamic product ratings calculated from user reviews, category filtering, and search functionality",
        "Admin Product Management: Intuitive interface for adding, editing, and deleting products directly from the frontend",
        "Marketing Integration: Newsletter signup via Mailchimp and Facebook business page integration",
      ],
      githubLink: "https://github.com/Willr-hawkins/coiling-clay1",
      liveLink: null,
    },
    {
      id: 3,
      title: "Maddocks Owlery",
      shortDesc: "Informative website for an Owlery conservation.",
      image: "{% static 'images/maddocks-owlery.jpg' %}",
      fullDescription:
        "A compelling digital presence built for a wildlife sanctuary and conservation project in North Devon. The website serves as both an educational platform and a community engagement tool, documenting the transformation of a former riding stables into a dedicated nature recovery site. Created for Simon Maddocks' 35-acre conservation initiative in partnership with the National Trust, focusing on habitat restoration and biodiversity support. The site chronicles the construction of a purpose-built wildlife tower designed to last a century, addressing the critical issue of habitat loss for barn owls, bats, and other native species.",
      technologies: [
        "Django",
        "HTML",
        "CSS + Bootstrap",
        "Javascript",
        "AWS S3",
      ],
      highlights: [
        "Visual Storytelling: Interactive image slideshow documenting the construction journey of the wildlife tower from conception to completion",
        "Multi-Page Architecture: Organized content sections including the project story, conservation initiatives, gallery, news updates, and live wildlife feed integration",
        "Educational Content: Detailed information about land stewardship practices, including the use of Mangalica pigs and Belted Galloway cattle for natural land management",
        "Future-Ready Infrastructure: Prepared for live camera feeds to share real-time wildlife activity with visitors",
      ],
      githubLink: "https://github.com/Willr-hawkins/MaddocksOwlery",
      liveLink: "https://www.maddocksowlery.co.uk/",
    },
  ];

  // Render project cards
  function renderProjects() {
    const grid = document.getElementById("projects-grid");
    grid.innerHTML = projects
      .map(
        (project) => `
          <div class="project-card" onclick="showProjectDetail(${project.id})">
              <img src="${project.image}" alt="${project.title}">
              <div class="project-card-content">
                  <h3>${project.title}</h3>
                  <p>${project.shortDesc}</p>
              </div>
          </div>
      `
      )
      .join("");
  }

  // Show project detail
  function showProjectDetail(projectId) {
    const project = projects.find((p) => p.id === projectId);
    const detailView = document.getElementById("project-detail");
    const overview = document.getElementById("projects-overview");

    detailView.innerHTML = `
          <button class="back-button" onclick="showProjectsOverview()">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M19 12H5M12 19l-7-7 7-7"/>
              </svg>
              Back to Projects
          </button>

          <div class="detail-card">
              <img src="${project.image}" alt="${project.title}">
              <h2>${project.title}</h2>
              <p class="description">${project.fullDescription}</p>

              <h3>Technologies Used</h3>
              <div class="tech-tags">
                  ${project.technologies
                    .map((tech) => `<span class="tech-tag">${tech}</span>`)
                    .join("")}
              </div>

              <h3>Key Features</h3>
              <ul class="highlights-list">
                  ${project.highlights
                    .map((highlight) => `<li>${highlight}</li>`)
                    .join("")}
              </ul>

              ${
                project.liveLink
                  ? `
                <a href="${project.liveLink}" target ="_blank" rel="noopener noreferrer" class="github-link" style="margin-right: 12px;">
                  View Live Site  
                </a>
              `
                  : ""
              }
              ${
                project.githubLink
                  ? `
                <a href="${project.githubLink}" target ="_blank" rel="noopener noreferrer" class="github-link" style="background: #344155">
                  View on GitHub  
                </a>
              `
                  : ""
              }
          </div>
      `;

    overview.classList.add("hidden");
    detailView.classList.add("active");
  }

  // Show projects overview
  function showProjectsOverview() {
    const detailView = document.getElementById("project-detail");
    const overview = document.getElementById("projects-overview");

    detailView.classList.remove("active");
    overview.classList.remove("hidden");
  }

  // Initialize
  renderProjects();

  // Animate skill bars when they come into view
  function animateSkillBars() {
    const skillBars = document.querySelectorAll(".skill-bar");
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          const bar = entry.target;
          const percentage = bar.getAttribute("data-percentage");

          if (entry.isIntersecting) {
            // Element is in viewport - animate
            bar.style.width = percentage + "%";
            bar.classList.add("animate");
          } else {
            // Element is out of viewport - reset
            bar.style.width = "0%";
            bar.classList.remove("animate");
          }
        });
      },
      {
        threshold: 0.5,
      }
    );

    skillBars.forEach((bar) => {
      observer.observe(bar);
    });
  }

  // Initialize on page load
  document.addEventListener("DOMContentLoaded", animateSkillBars);

  // Contact form AJAX submission
  document.addEventListener("DOMContentLoaded", function () {
    const contactForm = document.getElementById("contact-form");
    const messagesDiv = document.getElementById("contact-messages");

    if (contactForm) {
      contactForm.addEventListener("submit", function (e) {
        e.preventDefault();

        // Clear previous errors
        document.querySelectorAll(".error").forEach((el) => {
          el.style.display = "none";
          el.textContent = "";
        });
        messagesDiv.innerHTML = "";

        // Get form data
        const formData = new FormData(contactForm);

        // Submit via fetch
        fetch("/", {
          method: "POST",
          body: formData,
          headers: {
            "X-Requested-With": "XMLHttpRequest",
          },
        })
          .then((response) => response.json())
          .then((data) => {
            if (data.success) {
              // Show success message
              messagesDiv.innerHTML = `
            <div class="alert alert-success" style="padding: 1rem; border-radius: 8px; background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb;">
              ${data.message}
            </div>
          `;
              // Reset form
              contactForm.reset();
              // Scroll to message
              messagesDiv.scrollIntoView({
                behavior: "smooth",
                block: "nearest",
              });
            } else {
              // Show error message
              if (data.message) {
                messagesDiv.innerHTML = `
              <div class="alert alert-error" style="padding: 1rem; border-radius: 8px; background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;">
                ${data.message}
              </div>
            `;
              }

              // Show field-specific errors
              if (data.errors) {
                for (const [field, errors] of Object.entries(data.errors)) {
                  const errorDiv = document.getElementById(`${field}-error`);
                  if (errorDiv) {
                    errorDiv.textContent = errors.join(", ");
                    errorDiv.style.display = "block";
                  }
                }
              }
            }
          })
          .catch((error) => {
            messagesDiv.innerHTML = `
          <div class="alert alert-error" style="padding: 1rem; border-radius: 8px; background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;">
            An error occurred. Please try again.
          </div>
        `;
          });
      });
    }
  });
</script>

{% endblock %}
